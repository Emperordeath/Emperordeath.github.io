<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>𓂀 𝔓𝖘𝖞𝖈𝖍𝖔Ｄ𝖊𝖆𝖙𝖍 𓂀 — 迷宮</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body,html{height:100%;background:radial-gradient(ellipse at center,#000000 0%,#0a0a2a 70%,#000000 100%);color:#a0a0c0;font-family:"MS Mincho","Hiragino Mincho Pro",serif;overflow-x:hidden}
.幽界{display:none;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;padding:20px;position:relative;animation:冥 2s ease}
@keyframes 冥{0%{opacity:0}100%{opacity:1}}
.現界{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh}
.影{font-size:1.4rem;text-align:center;margin-bottom:40px;text-shadow:0 0 10px #303060;animation:幽 6s infinite alternate;letter-spacing:0.2em}
@keyframes 幽{0%,100%{opacity:0.7}50%{opacity:1}}
.暗号{display:flex;flex-direction:column;align-items:center;gap:15px;margin:20px 0}
.入力{background:rgba(10,10,40,0.3);border:1px solid #303060;color:#c0c0e0;padding:12px;font-size:1.1rem;width:280px;text-align:center;box-shadow:0 0 15px rgba(48,48,96,0.3);transition:all 0.4s}
.入力:focus{outline:none;box-shadow:0 0 20px #404080;border-color:#404080}
.按钮{background:linear-gradient(45deg,#000000,#202050);border:1px solid #404080;color:#a0a0c0;padding:12px 30px;font-size:1.1rem;cursor:pointer;transition:all 0.4s;letter-spacing:0.3em}
.按钮:hover{box-shadow:0 0 25px #5050a0;color:#e0e0ff}
.結果{margin:25px 0;font-size:1.2rem;min-height:1.5em;text-shadow:0 0 8px #303060;text-align:center}
.謎{font-size:1.1rem;margin:15px 0;text-align:center;line-height:1.6}
.光{position:fixed;width:200px;height:200px;background:radial-gradient(circle,rgba(64,64,128,0.15) 0%,transparent 70%);border-radius:50%;pointer-events:none;mix-blend-mode:screen}
.進捗{width:300px;height:4px;background:rgba(48,48,96,0.3);margin:20px 0;border-radius:2px;overflow:hidden}
.進捗内{height:100%;background:linear-gradient(90deg,#303060,#404080);width:0%;transition:width 0.5s}
.階層{font-size:0.9rem;margin-bottom:10px;color:#606090}
.狂気{display:none;position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999}
.終局{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#000000;color:#ff0000;justify-content:center;align-items:center;font-size:3rem;z-index:10000}
</style>
</head>
<body>
<div class="光" id="光"></div>

<div id="界1" class="現界">
<div class="影">影が門を見守る。鍵を解ける者だけが進める。</div>
<div class="暗号">
<input type="text" class="入力" id="鍵1" placeholder="最初の暗号を入力">
<button class="按钮" onclick="検証(1)">解読</button>
</div>
<div class="結果" id="結果1"></div>
</div>

<div id="界2" class="幽界">
<div class="階層">第二門</div>
<div class="謎">月が三つ重なる時、<br>鏡の向こうに答えが映る<br>「一二三」を漢字で記せ</div>
<div class="暗号">
<input type="text" class="入力" id="鍵2" placeholder="答えを入力">
<button class="按钮" onclick="検証(2)">検証</button>
</div>
<div class="結果" id="結果2"></div>
</div>

<div id="界3" class="幽界">
<div class="階層">第三門</div>
<div class="謎">闇を数えよ<br>星の瞬きは七回<br>闇夜に浮かぶ数字は？</div>
<div class="暗号">
<input type="text" class="入力" id="鍵3" placeholder="数字を入力">
<button class="按钮" onclick="検証(3)">検証</button>
</div>
<div class="結果" id="結果3"></div>
</div>

<div id="界4" class="幽界">
<div class="階層">第四門</div>
<div class="謎">古の言葉で記されし謎<br>「風」＋「林」＋「火」＋「山」<br>その意味する数字は？</div>
<div class="暗号">
<input type="text" class="入力" id="鍵4" placeholder="数字を入力">
<button class="按钮" onclick="検証(4)">検証</button>
</div>
<div class="結果" id="結果4"></div>
</div>

<div id="界5" class="幽界">
<div class="階層">最終門</div>
<div class="謎">全ての謎を解き明かした者へ<br>最後の鍵は「影の真実」<br>最初から最後まで通じる道</div>
<div class="暗号">
<input type="text" class="入力" id="鍵5" placeholder="最終答えを入力">
<button class="按钮" onclick="検証(5)">最終検証</button>
</div>
<div class="結果" id="結果5"></div>
<div class="進捗"><div class="進捗内" id="進捗"></div></div>
</div>

<div id="狂気" class="狂気"></div>
<div id="終局" class="終局">サイト=オフ</div>

<script>
var 現在階層=1;
var 正解=["影の鍵","一二三","7","4","闇光"];
var 狂気発動=false;

function 検証(階層){var 入力値=document.getElementById("鍵"+階層).value;var 結果要素=document.getElementById("結果"+階層);if(入力値===正解[階層-1]){結果要素.textContent="✓ 正解";結果要素.style.color="#a0f0a0";if(階層===5){狂気開始();}else{setTimeout(function(){転移(階層);},800);}}else if(入力値===""){結果要素.textContent="答えを入力せよ";結果要素.style.color="#f0a0a0";}else{結果要素.textContent="✗ 謎解きを続けよ";結果要素.style.color="#f0a0a0";}}

function 転移(現在){
document.getElementById("界"+現在).style.animation="震 1s infinite";
setTimeout(function(){
document.getElementById("界"+現在).style.display="none";
if(現在<5){document.getElementById("界"+(現在+1)).style.display="flex";現在階層=現在+1;}else{document.getElementById("界5").style.display="flex";}
document.getElementById("進捗").style.width=(現在/5*100)+"%";
},1000);
}

function 狂気開始(){
if(狂気発動)return;
狂気発動=true;
var 狂気要素=document.getElementById("狂気");
狂気要素.style.display="block";
var 回数=0;
var 狂気間隔=setInterval(function(){
回数++;
var 色=Math.random()>0.5?"#ff0000":"#00ffff";
var 影=Math.random()>0.5?"0 0 50px "+色:"0 0 100px "+色;
document.body.style.background=Math.random()>0.5?"#000000":"#ff0000";
document.body.style.color=色;
狂気要素.style.background="radial-gradient(circle,"+色+"20 0%,transparent 70%)";
狂気要素.style.boxShadow=影;
if(回数>20){clearInterval(狂気間隔);setTimeout(function(){document.body.innerHTML='<div class="終局" style="display:flex">サイト=オフ</div>';},500);}
},100);
}

document.addEventListener("mousemove",function(e){var 光=document.getElementById("光");光.style.left=(e.pageX-100)+"px";光.style.top=(e.pageY-100)+"px";});
document.getElementById("鍵1").addEventListener("keypress",function(e){if(e.key==="Enter")検証(1);});
document.getElementById("鍵2").addEventListener("keypress",function(e){if(e.key==="Enter")検証(2);});
document.getElementById("鍵3").addEventListener("keypress",function(e){if(e.key==="Enter")検証(3);});
document.getElementById("鍵4").addEventListener("keypress",function(e){if(e.key==="Enter")検証(4);});
document.getElementById("鍵5").addEventListener("keypress",function(e){if(e.key==="Enter")検証(5);});

const スタイル=document.createElement('style');
スタイル.textContent=`
@keyframes 震 {
0% { transform: translate(0px, 0px) rotate(0deg); }
25% { transform: translate(-5px, -5px) rotate(-1deg); }
50% { transform: translate(5px, 5px) rotate(1deg); }
75% { transform: translate(-3px, 3px) rotate(-0.5deg); }
100% { transform: translate(0px, 0px) rotate(0deg); }
}
`;
document.head.appendChild(スタイル);
</script>
</body>
</html>